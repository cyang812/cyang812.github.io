title: 不使用中间变量交换两数
date: 2016/6/1 10:08:23
tags:
- 编程
- java
categories:
- 编程
---


交换两个数的值是比较基础也比较常用的算法，比如在**冒泡排序法**中，从第一数开始比较，如后一个数比其小则交换两数的值。

一般在交换两数的值是，最简单的方法适用的方法就是**用中间变量暂存一个数**。例如，要交换a,b的值，可使用中间变量c暂存其中的一个数。
**核心代码如下：**
```java
c=b;
b=a;
a=b;
```

<!-- more -->

当然也可以**不使用中间变量的方法**，如以下几种方法。

**1、加法：**
**核心代码如下：**
```
a=a+b;
b=a-b;
a=a-b;
```
这种算法先将a和b的值赋给a,之后b等于a-b，这是b的值就变成了原来的a，最后a=a-b，a的值变为原来的b.
这种方法适用于整形和浮点型的数，但是用于浮点型时可能在减法后，**数据可能会出现精度损失。**


**2、乘法：**
**核心代码如下：**
```
a=a*b;
b=a/b;
a=a/b;
```
这个方法的基本思想和上一种加法很像，只是**这个算法在b=0时出错**，因为分子不能等于0。

**3、异或法：**
**核心代码如下：**
```
a=a^b;
b=a^b;
a=a^b;
```
关于异或的算法，简单说就是两数相同结果为1，两数不同结果为0。
- 1、任何数与0异或的结果为它本身。
- 2、两个相同的数异或的结果为0。
基于以上两点，上述的代码可以变形为：
```
a=a^b;
b=a^b=a^b^b=a^0=a;
a=a^b=a^b^a=b^0=b;
```
这样就和容易理解了，第一步`a=a^b；`的值没有意义，这是一个逻辑运算的值，这只是一个代换，用于后面两个语句进行逻辑运算。
